******************************
Economic Cost/Loss Value Plots
******************************

Description
===========

The Economic Cost Loss Value statistic is sometimes also called the
Relative value score (:ref:`Richardson, 2000<Richardson>`;
:ref:`Wilks, 2001<Wilks_2001>`). This plot produces the relative value
curve for deterministic forecasts based on counts in a 2x2
contingency table along with the expected cost-to-loss ratio. 

This information can help the user decide, for a cost/loss ratio C/L for
taking action based on a forecast, what the relative improvement is in
economic value between climatological and perfect information. The
relative value is a skill score based on expected cost, with (sample)
climatology as the reference forecast. Because the cost/loss ratio is
different for different users of forecasts, the value is plotted as a
function of cost to loss.

The ECLV score can range from -:math:`\infty` to 1.

Like ROC diagrams, it gives information that can be used in decision making.

Line Type
=========

ECLV requires the ECLV line type generated by either Point-Stat or Grid-Stat.

How-To
======

Selection of options to produce the ECLV plot proceeds approximately
counter-clockwise around the METviewer window.

#. Select the desired database from the “Select databases” pulldown menu
   at the top margin of the METviewer window.

#. There are a number of tabs just under the database pulldown menu. Select
   the ‘Eclv’ tab.

#. Select the desired series variable to calculate statistics for in the
   “Series Variables” tab. Press the “+ Series Variable” button to reveal
   two pulldown menus. The first pulldown menu lists the categories
   available in the selected dataset. The second pulldown menu allows the
   selection of the value of that category.

#. For a ECLV plot, the forecast variable (“FCST_VAR”) must be selected.
   This is found in the "Specialized Plot Fixed Values" section. In the
   example below, the forecast variable is 6-hour accumulated precipitation
   "APCP_06". 
   
#. It usually does not make sense to mix statistics for different groups.
   The desired group to calculate statistics over can be specified in the
   “Specialized Plot Fixed Values” section. A single domain (category:
   “VX_MASK”, value: “FULL”), a single accumulation time (category:
   "FCST_LEV", value: "A6"), and an observation type (category: "OBTYPE",
   value: "METAR_SYNOP") are chosen. If multiple domains or thresholds
   were chosen, the statistics would be a summary of all of those cases
   together, which may not always be desired.

#. Select the type of statistics summary by selecting either the “Summary”
   or “Aggregation Statistics” button in the “Statistics” section.
   Aggregated statistics may be selected for certain varieties of
   statistics. The selection can be made from the leftmost dropdown menu
   in the “Statistics” section. By default, the median value of all
   statistics will be plotted. Using the dropdown menu, the mean or sum
   may be selected instead. Choosing this option will cause a single
   statistic to be calculated from the individual database lines.

#. Now enough information has been entered to produce a graph. To do
   this, click the “Generate Plot” button at the top of the METviewer
   window (this is in red text). Typically, if a plot is not produced,
   it is because the database selected does not contain the correct
   type of data. Also, it is imperative to check the data used for the
   plot by selecting the “R data” tab on the right hand side, above the
   plot area. The data from the database that is being used to calculate
   the statistics is listed in this tab. This tab should be checked to
   avoid the accidental accumulation of inappropriate database lines.
   For example, it does not make sense to accumulate statistics over
   different domains, thresholds, models, etc.


Example
=======

The figure below shows an ECLV plot. In this example, three different
forecasting systems are used to predict precipitation at two different
thresholds. The economic value peaks at about 0 for all forecasts. Values
of the ECLV are negative for the majority of the cost to loss ratio. Low
values of C/L indicate either a very small cost to protect, very high
losses, or both. In these cases, it probably makes sense to protect
regardless of the forecast. At the other end, the cost to protect nears
the amount of the potential loss. In that case, it probably makes sense
to do nothing, regardless of the forecast, so the economic value of the
forecast is negative. Between those extremes, each user can determine
their own C/L ratio, risk tolerance, etc. to determine the best forecasting
system for their needs. In the example below, many of the forecasts are
quite similar, so a user may select from a grouping based on other
criteria, such as forecast latency or computational requirements.

.. figure:: figure/eclv_plot.png

	    Example ECLV plot for three models using two different
	    thresholds.

Here is the associated xml for this example. It can be copied into an
empty file and saved to the desktop then uploaded into the system by
clicking on the "Load XML" button in the upper-right corner of the GUI.
This XML can be downloaded from this link: 
`eclv_xml.xml <https://dtcenter.github.io/METviewer/latest/_static/xml/eclv_xml.xml>`_. 

.. literalinclude:: ../_static/xml/eclv_xml.xml
